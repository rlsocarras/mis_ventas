üìã TABLA RESUMEN DE REGLAS DE NEGOCIO
NIVEL 1: VALIDACIONES DE DATOS
Regla	Modelo	Descripci√≥n	Prioridad
RB-001	Todos	Precios y cantidades > 0	ALTA
RB-002	ViajeProducto	Precio venta ‚â• Precio compra	ALTA
RB-003	Venta	Fecha venta ‚â• Fecha viaje	MEDIA
RB-004	Deuda	Fecha estimada pago ‚â• Hoy	MEDIA
NIVEL 2: CONTROL DE STOCK Y DISPONIBILIDAD
Regla	Modelo	Descripci√≥n	F√≥rmula
RS-001	Venta	No vender m√°s del stock	cantidad ‚â§ (cantidad - cantidad_vendido)
RS-002	ViajeProducto	Stock actualizado autom√°tico	por_vender = cantidad - cantidad_vendido
RS-003	Sistema	Bloquear ventas sin stock	Validaci√≥n en tiempo real
NIVEL 3: GESTI√ìN DE CR√âDITO
Regla	Modelo	Descripci√≥n	F√≥rmula
RC-001	Persona	L√≠mite de cr√©dito individual	limite_credito = valor configurado
RC-002	Venta	Validar nuevo cr√©dito	deuda_actual + nuevo_monto ‚â§ limite_credito
RC-003	Sistema	Bloquear ventas a cr√©dito excedidas	Validaci√≥n previa
NIVEL 4: GESTI√ìN DE PAGOS
Regla	Modelo	Descripci√≥n	F√≥rmula
RP-001	PagoDeuda	Pago no excede deuda	monto_pago ‚â§ monto_pendiente
RP-002	Deuda	No modificar monto con pagos	Si total_pagado > 0 ‚Üí Error
RP-003	Deuda	Estado autom√°tico	estado = f(monto_pendiente, fecha)
NIVEL 5: C√ÅLCULOS FINANCIEROS
Regla	Modelo	Descripci√≥n	F√≥rmula
RF-001	Viaje	Ganancia real	ventas_pagadas + (deudas_pagadas * proporci√≥n)
RF-002	Viaje	Comisiones vendedor	ganancia_real * (comision_%)
RF-003	Deuda	D√≠as vencimiento	fecha_estimada - hoy
RF-004	Viaje	ROI (Retorno inversi√≥n)	(ganancia_real / total_invertido) * 100
NIVEL 6: INTEGRIDAD Y AUDITOR√çA
Regla	Modelo	Descripci√≥n	Implementaci√≥n
RI-001	Todos	No eliminar con dependencias	unlink() con validaci√≥n
RI-002	Principales	Auditor√≠a cambios	mail.thread + tracking
RI-003	Sistema	Fechas creaci√≥n/modificaci√≥n	Campos autom√°ticos